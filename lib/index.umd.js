!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).firework=e()}(this,(function(){"use strict";class t{constructor(){this.queue=[]}add(t){return this.queue.push(new a(t)),this}play(){this.queue.forEach((t=>t.play()))}}const e={targets:null,duration:1/0,easing:"linear",update:null};var s=()=>{const t={linear:()=>t=>t},e={Sine:()=>t=>1-Math.cos(t*Math.PI/2),Expo:()=>t=>t?Math.pow(2,10*t-10):0,Circ:()=>t=>1-Math.sqrt(1-t*t),Back:()=>t=>t*t*(3*t-2),Bounce:()=>t=>{let e,s=4;for(;t<((e=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((3*e-2)/22-t,2)}};return["Quad","Cubic","Quart","Quint"].forEach(((t,s)=>{e[t]=()=>t=>Math.pow(t,s+2)})),Object.keys(e).forEach((s=>{const a=e[s];t["easeIn"+s]=a,t["easeOut"+s]=()=>t=>1-a()(1-t),t["easeInOut"+s]=()=>t=>t<.5?a()(2*t)/2:1-a()(-2*t+2)/2,t["easeOutIn"+s]=()=>t=>t<.5?(1-a()(1-2*t))/2:(a()(2*t-1)+1)/2})),t};class a{constructor(t=e){t={...e,...t};const{targets:s,duration:a,easing:i,update:n,...o}=t;this.targets=s,this.duration=a,this.easing=i,this.update=n,this.dest=o||{},this.tl=null,this.isPlay=!1}timeline(){return this.tl||(this.tl=new t),this.tl}play(){this.isPlay||(this.isPlay=!0,(t=>{const e=Date.now(),a=e+t.duration,i=!!t.targets,n=[],o=(t,e,s,a,i,n=!1)=>{t[i]=n?a:(a-e)*s+e},r=(a,i,r=!1)=>{t.targets.forEach(((l,c)=>{Object.keys(t.dest).forEach((h=>{const d=parseFloat(n[c][h]);let u=t.dest[h];if("object"==typeof u){if(!Array.isArray(u)){const{value:n,duration:c,easing:p=t.easing}=u;i<=e+c?(a=s()[p]()((i-e)/c),o(l,d,a,n,h)):r&&o(l,d,a,n,h,r)}}else"function"==typeof u&&(u=u(l,c)),o(l,d,a,u,h,r)}))}))},l=()=>{const n=Date.now();if(n>a)r(1,n,!0),t.isPlay=!1;else{if(n>=e){const a=s()[t.easing]()((n-e)/t.duration);i&&r(a,n),"function"==typeof t.update&&t.update(t.targets)}requestAnimationFrame(l)}};(()=>{if(i){Array.isArray(t.targets)||(t.targets=[t.targets]);for(const e of t.targets){const s={};for(const a in t.dest)s[a]=e[a];n.push(s)}}})(),l()})(this))}}const i=t=>new a(t);i.random=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;const n=t=>Array.isArray(t)?i.random(t[0],t[1]):t,o=(t,e)=>{var s;if(e.move.includes("emit")){const{emitRadius:a=[50,180]}=null!==(s=e.moveOptions)&&void 0!==s?s:{},o=i.random(0,360)*Math.PI/180,r=[-1,1][i.random(0,1)]*n(a);t.endPos={x:t.x+r*Math.cos(o),y:t.y+r*Math.sin(o)}}},r=(t,e)=>{var s;if(e.move.includes("rotate")){const{angle:a=[-180,180]}=null!==(s=e.moveOptions)&&void 0!==s?s:{};t.endRotation=n(a)}},l=t=>Array.isArray(t)?t.map((t=>100*t)):[100*t,100*t];class c{constructor(t,e,s,a,i,n,o){this.ctx=t,this.x=e,this.y=s,this.color=a,this.radius=i,this.alpha=n,this.lineWidth=o,this.rotation=0}draw(){const{ctx:t,x:e,y:s}=this;t.save(),t.translate(e,s),t.rotate(this.rotation*(Math.PI/180)),t.globalAlpha=this.alpha,this.paint(),this.lineWidth?(t.lineWidth=this.lineWidth,t.strokeStyle=this.color,t.stroke()):(t.fillStyle=this.color,t.fill()),t.globalAlpha=1,t.restore()}}class h extends c{paint(){this.ctx.beginPath(),this.ctx.arc(0,0,this.radius,0,2*Math.PI),this.ctx.closePath()}}class d extends c{constructor(t,e,s,a,i,n,o,r){super(t,e,s,a,i,n,r),this.sides=o}paint(){const{ctx:t,sides:e,radius:s}=this;t.beginPath(),t.moveTo(s*Math.cos(0),s*Math.sin(0));for(let a=1;a<=e;a++){const i=2*a*Math.PI/e;t.lineTo(s*Math.cos(i),s*Math.sin(i))}t.closePath()}}class u extends c{constructor(t,e,s,a,i,n,o,r){super(t,e,s,a,i,n,r),this.spikes=o}paint(){const{ctx:t,spikes:e,radius:s}=this;t.beginPath(),t.moveTo(0,-s);for(let a=0;a<2*e;a++){const i=a*Math.PI/e-Math.PI/2,n=a%2==0?s:.5*s,o=Math.cos(i)*n,r=Math.sin(i)*n;t.lineTo(o,r)}t.closePath()}}const p=(t,e,s,a,c)=>{const d=n(a.number);let{radius:p,alpha:f=1,lineWidth:g}=a.shapeOptions;f=l(f);const m=[];for(let l=0;l<d;l++){const l=[t,e,s,a.colors[i.random(0,a.colors.length-1)],n(p),n(f)/100],d=new c(...c===h?l:[...l,n(c===u?a.shapeOptions.spikes:a.shapeOptions.sides)],n(g));o(d,a),r(d,a),m.push(d)}return m},f=document.createElement("canvas");f.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(f);const g=f.getContext("2d"),m=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?"touchstart":"click";let y=0,v=0;const x=()=>{const{clientWidth:t,clientHeight:e}=document.documentElement;f.width=2*t,f.height=2*e,f.style.width=t+"px",f.style.height=e+"px",g.setTransform(1,0,0,1,0,0),g.scale(2,2)},M=t=>{var e,s;const{move:a,moveOptions:i}=t;let o={};if(a.includes("emit")){const{radius:t=.1,alphaChange:s=!1,alphaEasing:a="linear",alphaDuration:r=[600,800],alpha:c=0}=null!==(e=i)&&void 0!==e?e:{};o={x:t=>t.endPos.x,y:t=>t.endPos.y,radius:n(t)},s&&(o.alpha={value:n(l(c))/100,easing:a,duration:n(r)})}else if(a.includes("diffuse")){const{diffuseRadius:t=[80,160],lineWidth:e=0,alphaEasing:a="linear",alphaDuration:r=[600,800],alpha:c=0}=null!==(s=i)&&void 0!==s?s:{};o={radius:n(t),lineWidth:n(e),alpha:{value:n(l(c))/100,easing:a,duration:n(r)}}}return a.includes("rotate")&&(o.rotation=t=>t.endRotation),o},w=t=>{for(const e of t)e.draw()},P=i({duration:1/0,update(){g.clearRect(0,0,f.width,f.height)}});let E=null,b=null;const A=t=>{b=t,E&&document.removeEventListener(m,E,!1),E=e=>{t.excludeElements.some((t=>((t,e)=>{for(e=e.toUpperCase();t;){if(t.nodeName===e)return!0;t=t.parentNode}return!1})(e.target,t)))||(P.play(),(t=>{var e,s;y=null!==(e=t.clientX)&&void 0!==e?e:t.touches&&t.touches[0].clientX,v=null!==(s=t.clientY)&&void 0!==s?s:t.touches&&t.touches[0].clientY})(e),k(y,v))},document.addEventListener(m,E,!1),x(),window.removeEventListener("resize",x,!1),window.addEventListener("resize",x,!1)},k=(t,e)=>{if(!b)return;const{particles:s}=b,a=i().timeline();s.forEach((s=>{var i;let o=[];switch(s.shape){case"circle":o=((t,e,s,a)=>p(t,e,s,a,h))(g,t,e,s);break;case"star":o=((t,e,s,a)=>p(t,e,s,a,u))(g,t,e,s);break;case"polygon":o=((t,e,s,a)=>p(t,e,s,a,d))(g,t,e,s)}a.add({targets:o,duration:n(s.duration),easing:null!==(i=s.easing)&&void 0!==i?i:"linear",update:w,...M(s)})})),a.play()};return t=>{"loading"===document.readyState?window.addEventListener("DOMContentLoaded",(()=>A(t)),{passive:!0}):A(t)}}));
